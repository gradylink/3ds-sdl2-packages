# Maintainer: Grady Link <homebrew@grady.link>

pkgname=3ds-sdl2
pkgver=2.32.8
pkgrel=2
pkgdesc="A library for portable low-level access to a video framebuffer, audio output, mouse, and keyboard"
arch=(any)
url="https://libsdl.org"
license=("LGPL")
makedepends=('3ds-cmake' 'dkp-toolchain-vars')
depends=('citro2d')
source=("${url}/release/SDL2-${pkgver}.tar.gz")
groups=('3ds-portlibs' '3ds-sdl2-libs')

build() {
  cd "SDL2-${pkgver}"

  mkdir build
  cd build

  source /opt/devkitpro/3dsvars.sh

  arm-none-eabi-cmake .. -DCMAKE_BUILD_TYPE="Release" -DCMAKE_INSTALL_PREFIX=$PORTLIBS_PREFIX

  make
}

package() {
  cd "SDL2-${pkgver}/build"
  make install DESTDIR=$pkgdir
}

sha256sums=('0ca83e9c9b31e18288c7ec811108e58bac1f1bb5ec6577ad386830eac51c787e')
